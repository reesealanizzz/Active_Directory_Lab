graph TB
    subgraph Internet["ğŸŒ Internet"]
        DNS_EXT["External DNS<br/>8.8.8.8"]
    end

    subgraph Network["VMware Virtual Network - 192.168.10.0/24<br/>Host-Only / Internal Network"]
        
        subgraph DC["Domain Controller - DC01"]
            DC01["ğŸ–¥ï¸ DC01<br/>Windows Server 2022<br/>192.168.10.10/24"]
            ADDS["Active Directory<br/>Domain Services<br/>cyberlab.local"]
            DNS["DNS Server<br/>127.0.0.1"]
            DHCP["DHCP Server<br/>Scope: .100-.200<br/>Lease: 8 hours"]
            GPO["Group Policy<br/>Management<br/>4 GPOs"]
        end

        subgraph Clients["Domain Workstations"]
            CLIENT01["ğŸ’» CLIENT01<br/>Windows 10/11 Pro<br/>192.168.10.100<br/>(DHCP)"]
            CLIENT02["ğŸ’» CLIENT02<br/>Windows 10/11 Pro<br/>192.168.10.101<br/>(DHCP)"]
        end

        subgraph OUs["Organizational Units"]
            OU1["ğŸ“ CyberLab_Users<br/>â”œâ”€ IT_Department<br/>â”œâ”€ Security_Team<br/>â”œâ”€ HR_Department<br/>â””â”€ Sales_Department"]
            OU2["ğŸ“ CyberLab_Computers<br/>â”œâ”€ Workstations<br/>â”œâ”€ Laptops<br/>â””â”€ Servers"]
            OU3["ğŸ“ CyberLab_Groups<br/>â”œâ”€ IT_Admins<br/>â”œâ”€ Security_Analysts<br/>â”œâ”€ HR_Staff<br/>â””â”€ Sales_Team"]
        end

        subgraph Users["Domain Users"]
            USER1["ğŸ‘¤ jsmith<br/>IT Department"]
            USER2["ğŸ‘¤ jdoe<br/>Security Team"]
            USER3["ğŸ‘¤ mjohnson<br/>IT Department"]
            USER4["ğŸ‘¤ swilliams<br/>HR Department"]
            USER5["ğŸ‘¤ tbrown<br/>Sales Department"]
            USER6["ğŸ‘¤ edavis<br/>Security Team"]
        end

        subgraph Policies["Group Policies"]
            GPO1["ğŸ” Password Security<br/>â€¢ 12 char minimum<br/>â€¢ 90 day max age<br/>â€¢ Complexity required"]
            GPO2["ğŸš« Desktop Restrictions<br/>â€¢ Block Command Prompt<br/>â€¢ Block Control Panel"]
            GPO3["ğŸ”¥ Windows Firewall<br/>â€¢ Enabled state<br/>â€¢ Block inbound<br/>â€¢ Allow outbound"]
            GPO4["ğŸ”’ Screen Lock<br/>â€¢ 15 min timeout<br/>â€¢ Password required"]
        end
    end

    %% Connections
    DC01 --> ADDS
    DC01 --> DNS
    DC01 --> DHCP
    DC01 --> GPO
    
    ADDS --> OU1
    ADDS --> OU2
    ADDS --> OU3
    
    OU1 --> USER1
    OU1 --> USER2
    OU1 --> USER3
    OU1 --> USER4
    OU1 --> USER5
    OU1 --> USER6
    
    GPO --> GPO1
    GPO --> GPO2
    GPO --> GPO3
    GPO --> GPO4
    
    CLIENT01 -.Authentication.-> DC01
    CLIENT02 -.Authentication.-> DC01
    
    CLIENT01 -.DHCP Request.-> DHCP
    CLIENT02 -.DHCP Request.-> DHCP
    
    CLIENT01 -.DNS Query.-> DNS
    CLIENT02 -.DNS Query.-> DNS
    
    GPO1 -.Apply.-> CLIENT01
    GPO1 -.Apply.-> CLIENT02
    GPO2 -.Apply.-> CLIENT01
    GPO2 -.Apply.-> CLIENT02
    GPO3 -.Apply.-> CLIENT01
    GPO3 -.Apply.-> CLIENT02
    GPO4 -.Apply.-> CLIENT01
    GPO4 -.Apply.-> CLIENT02
    
    DNS -.Forward.-> DNS_EXT
    
    OU2 --> CLIENT01
    OU2 --> CLIENT02

    classDef dcStyle fill:#2E5090,stroke:#1a3050,stroke-width:3px,color:#fff
    classDef clientStyle fill:#28a745,stroke:#1e7e34,stroke-width:2px,color:#fff
    classDef serviceStyle fill:#17a2b8,stroke:#117a8b,stroke-width:2px,color:#fff
    classDef ouStyle fill:#6c757d,stroke:#495057,stroke-width:2px,color:#fff
    classDef userStyle fill:#ffc107,stroke:#d39e00,stroke-width:2px,color:#000
    classDef policyStyle fill:#dc3545,stroke:#bd2130,stroke-width:2px,color:#fff
    
    class DC01,ADDS dcStyle
    class CLIENT01,CLIENT02 clientStyle
    class DNS,DHCP,GPO serviceStyle
    class OU1,OU2,OU3 ouStyle
    class USER1,USER2,USER3,USER4,USER5,USER6 userStyle
    class GPO1,GPO2,GPO3,GPO4 policyStyle
